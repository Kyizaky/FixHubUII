<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistik & Analitik - Admin</title>
    <link rel="stylesheet" href="css/statistik-admin.css">
</head>
<body>
    <div class="sidebar">
       <div class="logo">ğŸ“ Admin Panel</div>
            <a href="home-admin.html" class="menu-item">ğŸ“Š Dashboard</a>
            <a href="riwayat-laporan-admin.html" class="menu-item">ğŸ“‹ Semua Laporan</a>
            <a href="statistik-admin.html" class="menu-item active">ğŸ“ˆ Statistik</a>
            <a href="pengaturan.html" class="menu-item">âš™ï¸ Pengaturan</a>
            <a href="login.html" class="menu-item" style="margin-top: auto;">ğŸšª Logout</a>
    </div>

    <div class="main-content">
        <div class="header">
            <div>
                <h1>ğŸ“Š Statistik & Analitik</h1>
                <p style="color: #666; margin-top: 4px; font-size: 14px;" id="periodInfo">Periode: Bulan Ini</p>
            </div>
            <div class="filter-bar">
                <select class="filter-select" id="periodFilter" onchange="updatePeriod()">
                    <option value="today">Hari Ini</option>
                    <option value="week">Minggu Ini</option>
                    <option value="month" selected>Bulan Ini</option>
                    <option value="year">Tahun Ini</option>
                    <option value="custom">Custom</option>
                </select>
                <button class="btn btn-primary" onclick="exportData()">ğŸ“¥ Export PDF</button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card total">
                <div class="stat-label">Total Laporan</div>
                <div class="stat-value" id="statTotal">0</div>
                <div class="stat-change up">â†‘ 12% dari bulan lalu</div>
            </div>

            <div class="stat-card completed">
                <div class="stat-label">Tingkat Penyelesaian</div>
                <div class="stat-value" id="statCompleted">0%</div>
                <div class="stat-change up">â†‘ 8% dari bulan lalu</div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">ğŸ“ˆ Tren Laporan (30 Hari Terakhir)</div>
                    <div class="chart-actions">
                        <button class="chart-btn active">Line</button>
                        <button class="chart-btn">Bar</button>
                        <button class="chart-btn">Area</button>
                    </div>
                </div>
                <div class="chart-placeholder" id="mainChart">
                    ğŸ“Š Chart Area<br>
                    <small style="margin-top: 8px; display: block;">Integrate dengan Chart.js atau ApexCharts</small>
                </div>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">ğŸ¥§ Status Distribution</div>
                </div>
                <div class="chart-placeholder" id="pieChart" style="height: 300px;">
                    ğŸ¥§ Pie Chart<br>
                    <small style="margin-top: 8px; display: block;">Status laporan dalam bentuk pie chart</small>
                </div>
            </div>
        </div>

        <div class="data-grid">
            <div class="data-card">
                <div class="data-title">ğŸ“‚ Berdasarkan Kategori</div>
                <div id="categoryList">
                </div>
            </div>

            <div class="data-card">
                <div class="data-title">ğŸ“‹ Berdasarkan Status</div>
                <div id="statusList">
                </div>
            </div>
        </div>
    </div>

    <script>
        const statsData = {
            total: 156,
            completed: 76
        };

        const categoryData = [
            { icon: 'ğŸ’»', name: 'Komputer & Laptop', count: 45, percentage: 28.8 },
            { icon: 'â„ï¸', name: 'AC & Pendingin', count: 32, percentage: 20.5 },
            { icon: 'ğŸ“½ï¸', name: 'Proyektor', count: 28, percentage: 17.9 },
            { icon: 'ğŸª‘', name: 'Furniture', count: 24, percentage: 15.4 },
            { icon: 'ğŸ–¨ï¸', name: 'Printer & Scanner', count: 18, percentage: 11.5 }
        ];

        const statusData = [
            { icon: 'â³', name: 'Menunggu', count: 23, percentage: 14.7, color: '#FF9800' },
            { icon: 'ğŸ”„', name: 'Diproses', count: 15, percentage: 9.6, color: '#2196F3' },
            { icon: 'âœ…', name: 'Selesai', count: 118, percentage: 75.6, color: '#4CAF50' }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            loadCategoryData();
            loadStatusData();
        });

        function updateStats() {
            animateNumber('statTotal', statsData.total);
            animateNumber('statCompleted', statsData.completed, '%');
        }

        function animateNumber(elementId, target, suffix = '') {
            const element = document.getElementById(elementId);
            const duration = 1000;
            const steps = 30;
            const increment = target / steps;
            let current = 0;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target + suffix;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current) + suffix;
                }
            }, duration / steps);
        }

        function loadCategoryData() {
            const container = document.getElementById('categoryList');
            categoryData.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'data-item';
                div.innerHTML = `
                    <div class="data-icon">${item.icon}</div>
                    <div class="data-info">
                        <div class="data-name">${item.name}</div>
                        <div class="data-count">${item.count} laporan</div>
                        <div class="data-bar">
                            <div class="data-bar-fill" style="width: 0%;" data-width="${item.percentage}%"></div>
                        </div>
                    </div>
                    <div class="data-percentage">${item.percentage}%</div>
                `;
                container.appendChild(div);
                
                setTimeout(() => {
                    const bar = div.querySelector('.data-bar-fill');
                    bar.style.width = bar.dataset.width;
                }, 100 * index);
            });
        }

        function loadStatusData() {
            const container = document.getElementById('statusList');
            statusData.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'data-item';
                div.innerHTML = `
                    <div class="data-icon">${item.icon}</div>
                    <div class="data-info">
                        <div class="data-name">${item.name}</div>
                        <div class="data-count">${item.count} laporan</div>
                        <div class="data-bar">
                            <div class="data-bar-fill" style="width: 0%; background: ${item.color};" data-width="${item.percentage}%"></div>
                        </div>
                    </div>
                    <div class="data-percentage" style="color: ${item.color};">${item.percentage}%</div>
                `;
                container.appendChild(div);
                
                setTimeout(() => {
                    const bar = div.querySelector('.data-bar-fill');
                    bar.style.width = bar.dataset.width;
                }, 100 * index);
            });
        }

        function updatePeriod() {
            const select = document.getElementById('periodFilter');
            const value = select.value;
            const info = document.getElementById('periodInfo');
            
            const periodMap = {
                'today': 'Hari Ini',
                'week': 'Minggu Ini',
                'month': 'Bulan Ini',
                'year': 'Tahun Ini',
                'custom': 'Custom'
            };
            
            info.textContent = `Periode: ${periodMap[value]}`;
            
            if (value === 'custom') {

                alert('Fitur custom date range akan segera hadir');
            }
        }

        function exportData() {
                alert('Fitur akan segera hadir');
        }
    </script>
</body>
</html>